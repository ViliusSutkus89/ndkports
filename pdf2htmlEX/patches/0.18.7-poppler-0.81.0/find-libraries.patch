--- CMakeLists.txt	2019-09-27 15:43:55.000000000 +0300
+++ CMakeLists.txt	2023-11-04 09:55:13.684000000 +0200
@@ -19,20 +19,13 @@
 
 find_package(PkgConfig)
 
-
-pkg_check_modules(POPPLER REQUIRED poppler>=0.25.0)
-include_directories(${POPPLER_INCLUDE_DIRS})
-link_directories(${POPPLER_LIBRARY_DIRS})
-set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} ${POPPLER_LIBRARIES})
+pkg_search_module(POPPLER REQUIRED IMPORTED_TARGET poppler>=0.25.0)
+set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} PkgConfig::POPPLER)
 
 if(ENABLE_SVG)
-    pkg_check_modules(CAIRO REQUIRED cairo>=1.10.0)
-    message("Trying to locate cairo-svg...")
-    find_path(CAIRO_SVG_INCLUDE_PATH cairo-svg.h PATHS ${CAIRO_INCLUDE_DIRS} NO_DEFAULT_PATH)
-    if(CAIRO_SVG_INCLUDE_PATH)
-        include_directories(${CAIRO_INCLUDE_DIRS})
-        link_directories(${CAIRO_LIBRARY_DIRS})
-        set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} ${CAIRO_LIBRARIES})
+    pkg_search_module(CAIRO_SVG REQUIRED IMPORTED_TARGET cairo-svg>=1.10.0)
+    set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} PkgConfig::CAIRO_SVG)
+
         set(ENABLE_SVG 1)
         set(CAIROOUTPUTDEV_PATH 3rdparty/poppler/git)
         include_directories(${CAIROOUTPUTDEV_PATH})
@@ -44,21 +37,14 @@
             ${CAIROOUTPUTDEV_PATH}/CairoOutputDev.h
             ${CAIROOUTPUTDEV_PATH}/CairoOutputDev.cc
         )
-    else()
-        message(FATAL_ERROR "Error: no SVG support found in Cairo")
-    endif()
-
-    find_package(Freetype REQUIRED)
-    include_directories(${FREETYPE_INCLUDE_DIRS})
-    link_directories(${FREETYPE_LIBRARY_DIRS})
-    set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} ${FREETYPE_LIBRARIES})
+
+    pkg_search_module(FREETYPE REQUIRED IMPORTED_TARGET freetype2)
+    set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} PkgConfig::FREETYPE)
 endif()
 
 # fontforge starts using pkg-config 'correctly' since 2.0.0
-pkg_check_modules(FONTFORGE REQUIRED libfontforge>=2.0.0)
-include_directories(${FONTFORGE_INCLUDE_DIRS})
-link_directories(${FONTFORGE_LIBRARY_DIRS})
-set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} ${FONTFORGE_LIBRARIES})
+pkg_search_module(FONTFORGE REQUIRED IMPORTED_TARGET libfontforge)
+set(PDF2HTMLEX_LIBS ${PDF2HTMLEX_LIBS} PkgConfig::FONTFORGE)
 
 # debug build flags (overwrite default cmake debug flags)
 set(CMAKE_C_FLAGS_DEBUG "-ggdb -pg")
